@using Microsoft.AspNet.Identity
@model IEnumerable<RajaMotors.Web.ViewModels.VehicleViewModel>
@{
    ViewBag.Title = "List of Vehicles";
}
<div class="container-fluid">
    <div class="row-fluid">
        <div class="col_w620_content">
            <fieldset>
                <table class="table">
                    <thead>
                        <tr>
                            <th>VehicleName</th>
                            <th>ClientName</th>
                            <th>ClientMobile</th>
                            <th>ModelName</th>
                            <th>ModelNumber</th>
                            <th>Services</th>
                            <th>DateAdded</th>
                            <th>Active</th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var item in Model)
            {
                            <tr>
                                <td>
                                    @item.VehicleModelName
                                </td>
                                <td>
                                    @item.Client.ClientName
                                </td>
                                <td>
                                    @item.Client.ClientMobile
                                </td>
                                <td>
                                    @item.VehicleModelName
                                </td>
                                <td>
                                    @item.VehicleModelNumber
                                </td>
                                <td>
                                    <a href="/Service/ServiceList?vehicleId=@item.VehicleId&filterBy=''&page=0&sortBy='Name''">
                                        @if (@item.Services != null)
                                        {
                                            @item.Services.Count()
                                        }
                                        else
                                        {
                                            @("0")
                                        }
                                    </a>    
                                </td>
                                <td>
                                    @item.VehicletDateAdded
                                </td>
                                <td>
                                    @item.VehicleIsActive
                                </td>
                                <td>
                                    @Html.ActionLink("Edit", "Edit", "Vehicle", new { vehicleId = item.VehicleId }, new { @class = "btn btn-primary btn-small" })
                                    @Html.ActionLink("Detail", "Detail", "Vehicle", new { vehicleId = item.VehicleId }, new { @class = "btn btn-primary btn-small" })
                                    @Html.ActionLink("Delete", "Delete", "Vehicle", new { vehicleId = item.VehicleId }, new { @class = "btn btn-primary btn-small" })
                                </td>
                            </tr>
                        }
                    </tbody>
                </table>

            </fieldset>
        </div>
    </div>
</div>